<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="mvinman.github.io : " />

    <link rel="stylesheet" type="text/css" media="screen"
    href="stylesheets/stylesheet.css">

    <title>Michael Inman</title>
  </head>

  <script src="https://google-code-prettify.googlecode.com/svn
	       /loader/run_prettify.js"></script>

  <!-- NUMBER EVERY LINE -->
  <style>
    li.L0, li.L1, li.L2, li.L3,
    li.L5, li.L6, li.L7, li.L8
    { list-style-type: decimal !important }
  </style>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/mvinman">View
          on GitHub</a>

          <h1 id="project_title">Michael Inman</h1>
          <h2 id="project_tagline"></h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3><a name="welcome-to-github-pages" class="anchor"
        href="#welcome-to-github-pages"><span class="octicon
        octicon-link"></span></a>Welcome to My GitHub Page.</h3>

	<p>On this page are samples of code I've written.</p>

	<h3>Java</h3>

	<p>This is a Java program I wrote for a homework assignment.
	Users can choose between drawing with a "brush" or using
	shapes.  A brush is a string of one or more characters.
	Shapes are drawn by selecting two or more points on the
	canvas.</p>

	<p>The primary technical challenges of this assignment were
	the use of Generics and the implementation of the Serializable
	interface to provide functionality for saving and loading
	drawings.</p>

	<pre><code class="prettyprint linenums"
		   style="height:700px;overflow:scroll;overflow-y:scroll;
			  overflow-x:hidden;">/*
Author: Michael Inman
Date: 05/06/13
Program Name: DrawingBoard.java
Objective: This program uses character strings and shapes to paint
           on a virtual canvas
*/
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
import javax.swing.event.*;
import java.util.*;
import java.io.*;

//******************************CLASS MultiType*******************
class MultiType&lt;T1,T2,T3&gt; implements Serializable
{
    private T1 ob1;
    private T2 ob2;
    private T3 ob3;
    //******************************MultiType()*******************
    public MultiType(T1 o1, T2 o2, T3 o3)
    {
        ob1 = o1;
        ob2 = o2;
        ob3 = o3;
    }
    //********************************getOb1()********************
    T1 getOb1()
    {
	return ob1;
    }
    //********************************getOb2()********************
    T2 getOb2()
    {
	return ob2;
    }
    //********************************getOb3()********************
    T3 getOb3()
    {
	return ob3;
    }
}

//******************************CLASS DataBox*********************
class DataBox implements Serializable
{
    private ArrayList&lt;MultiType&gt; al;
    //*******************************DataBox()********************
    public DataBox(ArrayList&lt;MultiType&gt; aList)
    {
        al = aList;
    }
    //*******************************getData()********************
    public ArrayList&lt;MultiType&gt; getData()
    {
        return(al);
    }
}

//******************************CLASS DB**************************
class DB extends JPanel
{
    private String brush = "*";
    private String oldBrush;
    private int mx = 0, my = 0;
    private int xoffset = 0, yoffset = 5; // without offsets,
                 // characters get drawn several pixels away
                 // from the tip of the pointer
    private Point mp = null;
    private boolean b1 = false;
    private boolean b3 = false;
    private Color brushColor = Color.black;
    private Color oldColor;
    private Color eraseColor;
    private Color fillColor = Color.black;
    private String eraser ="\u2022"; // Unicode bullet: makes a
                                     // good eraser
    private Font eraseFont = new Font("SansSerif",
			  Font.PLAIN,72); // make the eraser large
    private Font defaultFont = null;
    private Font f;
    private boolean eraseMode;
    private MultiType&lt;int[],String,Color&gt; mt; // a multi-type
                                              // object to hold
                                              // mouse coordinates,
                                              // brush, and brush
                                              // color; also used
                                              // for shapes
    private ArrayList&lt;MultiType&gt; al = new ArrayList&lt;&gt;();
    private ArrayList&lt;Point&gt; ap = new ArrayList&lt;&gt;();
    private boolean init = true;
    private boolean drawLine;
    private boolean drawRect;
    private boolean drawOval;
    private boolean drawPoly;
    private boolean fill;

    //**********************************DB()**********************
    public DB()
    {
        setBrushColor(brushColor);
        setBrush(brush);
        setBackground(Color.white);
        eraseColor = getBackground();
        addMouseMotionListener(new MouseMotionAdapter()
        {
            public void mouseDragged(MouseEvent me)
            {
                mx = me.getX(); my = me.getY();
                int coord[] = {mx-xoffset,my+yoffset};
                mt = new MultiType&lt;&gt;(coord,brush,brushColor);
                al.add(mt);
                repaint();
            }
        });
        addMouseListener(new MouseAdapter()
        {
            public void mouseClicked(MouseEvent me)
            {
                mp = me.getPoint();
                if (me.getButton() == me.BUTTON1)
                {
                    b1 = true;
                    b3 = false;
                }
                else if (me.getButton() == me.BUTTON3)
                {
                    b3 = true;
                    b1 = false;
                }
                if (!eraseMode)
                {
                    xoffset=0;
                    yoffset=5;
                    if (b1 && (drawLine || drawRect || drawOval ||
                               drawPoly)) ap.add(mp);
                    if (ap.size() == 2)
                    {
                        int x1 = (int) ap.get(0).getX();
                        int y1 = (int) ap.get(0).getY();
                        int x2 = (int) ap.get(1).getX();
                        int y2 = (int) ap.get(1).getY();
                        int tmp[] = {x1,y1,x2,y2};

                        if (drawLine)
                        {
                            mt = new MultiType&lt;&gt;(tmp,"line",
                                                 fillColor);
                            al.add(mt);
                            ap.clear();
                        }
                        else if (drawRect || drawOval)
                        {
                            if (drawRect)
                            {
                                if (fill) mt = new MultiType&lt;&gt;(tmp,
                                                "rectf",fillColor);
                                else mt = new MultiType&lt;&gt;(tmp,
                                                 "rect",fillColor);
                                al.add(mt);
                                ap.clear();
                            }
                            else if (drawOval)
                            {
                                if (fill) mt = new MultiType&lt;&gt;(tmp,
                                                "ovalf",fillColor);
                                else mt = new MultiType&lt;&gt;(tmp,
                                                 "oval",fillColor);
                                al.add(mt);
                                ap.clear();
                            }
                        }
                    }
                    else if (b3 && (ap.size() &gt; 2) && drawPoly)
                    {
                        int i = 0;
                        int tmp[] = new int[ap.size()*2];
                        for (Point p : ap)
                        {
                            tmp[i*2] = (int) ap.get(i).getX();
                            tmp[(i*2)+1] = (int) ap.get(i).getY();
                            i++;
                        }
                        if (fill) mt = new MultiType&lt;&gt;(tmp,"polyf",
                                                       fillColor);
                        else mt = new MultiType&lt;&gt;(tmp,"poly",
                                                  fillColor);
                        al.add(mt);
                        ap.clear();
                    }
                }
                repaint();
            }
        });
    }
    //*********************************cls()**********************
    public void cls()
    {
        Graphics g = getGraphics();
        g.setColor(getBackground());
        g.fillRect(0,0,getWidth(),getHeight());
        g.setColor(getForeground());
        al = new ArrayList&lt;&gt;();
    }
    //****************************setBrushColor()*****************
    public void setBrushColor(Color c)
    {
        brushColor = c;
    }
    //*******************************setBrush()*******************
    public void setBrush(String brush)
    {
        this.brush = brush;
    }
    //******************************savePic()*********************
    public void savePic()
    {
        File file;
        DataBox dBox = new DataBox(al);
        JFileChooser jfc = new JFileChooser();
        jfc.setFileSelectionMode(JFileChooser.
                                 FILES_AND_DIRECTORIES);
        int returnValue = jfc.showDialog(this,"Save");
        if (returnValue == JFileChooser.APPROVE_OPTION);
        {
            file = jfc.getSelectedFile();
            if (file == null || file.getName().equals(""))
            {
                // user clicked "cancel" -- do nothing
            }
            else try
            {
                FileOutputStream fos = new FileOutputStream(file);
                ObjectOutputStream oos = new
                    ObjectOutputStream(fos);
                oos.writeObject(dBox);
                oos.flush();
                oos.close();
            } catch(IOException e){}
        }
    }
    //******************************loadPic()*********************
    public void loadPic()
    {
        DataBox dBoxLoaded;
        File file;
        JFileChooser jfc = new JFileChooser();
        jfc.setFileSelectionMode(JFileChooser.
                                 FILES_AND_DIRECTORIES);
        int returnValue = jfc.showOpenDialog(this);
        if (returnValue == JFileChooser.APPROVE_OPTION);
        {
            file = jfc.getSelectedFile();
            if (file == null || file.getName().equals(""))
            {
                // user clicked "cancel" -- do nothing
            }
            try
            {
                FileInputStream fis = new FileInputStream(file);
                ObjectInputStream ois = new ObjectInputStream(fis);
                dBoxLoaded = (DataBox) ois.readObject();
                ois.close();
                al = dBoxLoaded.getData();
                repaint();
            } catch(Exception e){}
        }
    }
    //*****************************setEraseMode()*****************
    public void setEraseMode()
    {
        if (!eraseMode)
        {
            // remember the brush and its color so we can restore
            // them when we go back to draw mode
            oldBrush = brush;
            oldColor = brushColor;

            eraseMode = true;
            f = eraseFont;
            setBrushColor(eraseColor);
            setBrush(eraser);
            xoffset=20;
            yoffset=25;
        }
    }
    //*****************************setDrawMode()******************
    public void setDrawMode()
    {
        if (eraseMode)
        {
            eraseMode = false;
            f = defaultFont;
            setBrushColor(oldColor);
            setBrush(oldBrush);
            xoffset=0;
            yoffset=5;
        }
    }
    //*******************************drawLine()*******************
    public void drawLine()
    {
        setDrawMode();
        drawLine = true;
        drawRect = drawOval = drawPoly = false;
        ap.clear();
    }
    //*******************************drawRect()*******************
    public void drawRect()
    {
        setDrawMode();
        drawRect = true;
        drawLine = drawOval = drawPoly = false;
        ap.clear();
    }
    //*******************************drawOval()*******************
    public void drawOval()
    {
        setDrawMode();
        drawOval = true;
        drawRect = drawLine = drawPoly = false;
        ap.clear();
    }
    //*******************************drawPoly()*******************
    public void drawPoly()
    {
        setDrawMode();
        drawPoly = true;
        drawRect = drawOval = drawLine = false;
        ap.clear();
    }
    //*********************************fill()*********************
    public void fill(boolean fill)
    {
        this.fill = fill;
    }
    //*****************************setFillColor()*****************
    public void setFillColor(Color c)
    {
        fillColor = c;
    }
    //****************************paintComponent()****************
    public void paintComponent(Graphics g)
    {
        super.paintComponent(g);
        g.setFont(f);
        g.setColor(brushColor);
        if (init)
        {
            init = false; // prevent accidental drawing when
                          // object is initialized
            defaultFont = g.getFont(); // query and set the
                                      // default font
        }
        else if(al.size() &gt; 0)
        {
            int mxSaved, mySaved;
            String brushSaved;
            Color brushColorSaved;
            for (int i=0; i &lt; al.size(); i++)
            {
                if (((int[]) al.get(i).getOb1()).length &gt; 2)
                {
                    int tmp[] = (int[]) al.get(i).getOb1();
                    String stmp = (String) al.get(i).getOb2();
                    int stmplen = stmp.length(); // length of
                           // string is a proxy for fill type
                    stmp = stmp.substring(0,4); // first four
                                     // letters specify shape
                    Color ctmp = (Color) al.get(i).getOb3();
                    g.setColor(ctmp);
                    if (stmp.equals("line")) g.drawLine(tmp[0],
                                            tmp[1],tmp[2],tmp[3]);
                    else if (stmp.equals("rect"))
                    {
                        if (stmplen == 5) g.fillRect(tmp[0],tmp[1],
                                      tmp[2]-tmp[0],tmp[3]-tmp[1]);
                        else g.drawRect(tmp[0],tmp[1],
                                     tmp[2]-tmp[0],tmp[3]-tmp[1]);
                    }
                    else if (stmp.equals("oval"))
                    {
                        if (stmplen == 5) g.fillOval(tmp[0],tmp[1],
                                      tmp[2]-tmp[0],tmp[3]-tmp[1]);
                        else g.drawOval(tmp[0],tmp[1],
                                     tmp[2]-tmp[0],tmp[3]-tmp[1]);
                    }
                    else if (stmp.equals("poly"))
                    {
                        int x[] = new int[tmp.length/2];
                        int y[] = new int[tmp.length/2];
                        for (int j = 0; j &lt; tmp.length/2; j++)
                        {
                            x[j] = tmp[j*2];
                            y[j] = tmp[(j*2)+1];
                        }
                        if (stmplen == 5) g.fillPolygon(x,y,
                                                        x.length);
                        else g.drawPolygon(x,y,x.length);
                    }
                }
                else
                {
                    mxSaved = (int) ((int[]) al.get(i).getOb1())[0];
                    mySaved = (int) ((int[]) al.get(i).getOb1())[1];
                    brushSaved = (String) al.get(i).getOb2();
                    if (brushSaved.equals(eraser))
                        g.setFont(eraseFont);
                    else g.setFont(defaultFont);
                    brushColorSaved = (Color) al.get(i).getOb3();
                    g.setColor(brushColorSaved);
                    g.drawString(brushSaved,mxSaved,mySaved);
                }
            }
        }
    }
}

//******************************CLASS HW4b************************
class DrawingBoard extends JFrame implements ActionListener
{
    private String brush = "*";
    private DB dBoard = new DB();
    private ImageIcon on = new ImageIcon("on.gif");
    private ImageIcon off = new ImageIcon("off.gif");
    private ImageIcon title = new ImageIcon("db.gif");
    private ImageIcon line_on = new ImageIcon("line.on.gif");
    private ImageIcon rect_on = new ImageIcon("rect.on.gif");
    private ImageIcon oval_on = new ImageIcon("oval.on.gif");
    private ImageIcon poly_on = new ImageIcon("poly.on.gif");
    private ImageIcon line_off = new ImageIcon("line.off.gif");
    private ImageIcon rect_off = new ImageIcon("rect.off.gif");
    private ImageIcon oval_off = new ImageIcon("oval.off.gif");
    private ImageIcon poly_off = new ImageIcon("poly.off.gif");
    private JButton jbS;
    private JButton jbL;
    private JButton jbC;
    private JButton jbD;
    private JButton jbR;
    private JButton jbB;
    private JButton jbE;
    private JPanel labelColorPanel;
    private JLabel currentBrush;
    private JLabel currentBrushLabel;
    private JLabel currentColorLabel;
    private Color ttColor = new Color(255,255,180);
    private Color chosenColor = Color.black;
    private boolean eraseMode = false;
    private JButton jbLine;
    private JButton jbRect;
    private JButton jbOval;
    private JButton jbPoly;
    private JButton jbFill;
    private String fillState;

    //*****************************DrawingBoard()*****************
    public DrawingBoard()
    {
        setTitle("Drawing Board");
        setSize(800,700);
        this.setResizable(false);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        buildPanel();
        setVisible(true);
    }
    //******************************buildPanel()******************
    private void buildPanel()
    {
        setLayout(new BorderLayout());
        JPanel buttonPanel = new JPanel();
        jbS = new JButton("SAVE")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbL = new JButton("LOAD")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbC = new JButton("CLEAR")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbD = new JButton("DRAW")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbE = new JButton("ERASE")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbR = new JButton("COLOR")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbB = new JButton("BRUSH")
            {
                public JToolTip createToolTip()
                {
                    JToolTip jtt = super.createToolTip();
                    jtt.setBackground(ttColor);
                    return jtt;
                }
            };
        jbD.setIcon(on);
        jbE.setIcon(off);
        buttonPanel.add(jbS);
        buttonPanel.add(jbL);
        buttonPanel.add(jbC);
        buttonPanel.add(jbD);
        buttonPanel.add(jbE);
        buttonPanel.add(jbR);
        buttonPanel.add(jbB);

        jbS.setToolTipText("save the drawing");
        jbL.setToolTipText("open a previously saved drawing");
        jbC.setToolTipText("clear the screen");
        jbD.setToolTipText("switch to draw mode to draw on the " +
                           "screen");
        jbE.setToolTipText("switch to erase mode");
        jbR.setToolTipText("change the brush color");
        jbB.setToolTipText("change the brush");

        currentColorLabel = new JLabel("CURRENT COLOR");
        currentColorLabel.setFont(new Font("SansSerif",
                                           Font.PLAIN,10));
        JPanel labelParentPanel = new JPanel();
        labelColorPanel = new JPanel();
        labelColorPanel.setBackground(Color.black);
        labelParentPanel.add(currentColorLabel);
        labelParentPanel.add(labelColorPanel);

        currentBrushLabel = new JLabel("CURRENT BRUSH  ");
        currentBrushLabel.setFont(new Font("SansSerif",
                                           Font.PLAIN,10));
        currentBrush = new JLabel(brush);
        currentBrush.setFont(new Font("SansSerif",
                                      Font.BOLD,10));
        JPanel brushLabelPanel = new JPanel();
        brushLabelPanel.add(currentBrushLabel);
        brushLabelPanel.add(currentBrush);

        JPanel statusPanel = new JPanel();
        statusPanel.setLayout(new GridLayout(2,1,0,-6));
        statusPanel.add(labelParentPanel);
        statusPanel.add(brushLabelPanel);

        JPanel bottomPanel = new JPanel();
        bottomPanel.setLayout(new GridLayout(2,2));
        bottomPanel.add(buttonPanel);
        bottomPanel.add(statusPanel);
        add(bottomPanel,BorderLayout.SOUTH);

        JPanel jp = new JPanel();
        dBoard.setPreferredSize(new Dimension(723,650));
        jp.add(dBoard);
        add(jp,BorderLayout.CENTER);
        JLabel lTitle = new JLabel(title,JLabel.CENTER);
        add(lTitle,BorderLayout.NORTH);

        JPanel shapePanel = new JPanel();
        shapePanel.setLayout(new GridLayout(16,1,0,5));
        shapePanel.setPreferredSize(new Dimension(65,170));
        jbLine = new JButton()
        {
            public JToolTip createToolTip()
            {
                JToolTip jtt = super.createToolTip();
                jtt.setBackground(ttColor);
                return jtt;
            }
        };
        jbRect = new JButton()
        {
            public JToolTip createToolTip()
            {
                JToolTip jtt = super.createToolTip();
                jtt.setBackground(ttColor);
                return jtt;
            }
        };
        jbOval = new JButton()
        {
            public JToolTip createToolTip()
            {
                JToolTip jtt = super.createToolTip();
                jtt.setBackground(ttColor);
                return jtt;
            }
        };
        jbPoly = new JButton()
        {
            public JToolTip createToolTip()
            {
                JToolTip jtt = super.createToolTip();
                jtt.setBackground(ttColor);
                return jtt;
            }
        };
        jbFill = new JButton("fill")
        {
            public JToolTip createToolTip()
            {
                JToolTip jtt = super.createToolTip();
                jtt.setBackground(ttColor);
                return jtt;
            }
        };
        JButton jbHelp = new JButton("help");
        jbLine.setActionCommand("line");
        jbRect.setActionCommand("rectangle");
        jbOval.setActionCommand("oval");
        jbPoly.setActionCommand("polygon");
        jbLine.setToolTipText("draw lines");
        jbRect.setToolTipText("draw rectangles");
        jbOval.setToolTipText("draw ovals");
        jbPoly.setToolTipText("draw polygons");
        jbFill.setToolTipText("fill shapes with a selected color");
        jbLine.setIcon(line_off);
        jbRect.setIcon(rect_off);
        jbOval.setIcon(oval_off);
        jbPoly.setIcon(poly_off);
        jbFill.setIcon(off);
        shapePanel.add(new JLabel("SHAPES",JLabel.CENTER));
        shapePanel.add(jbLine);
        shapePanel.add(jbRect);
        shapePanel.add(jbOval);
        shapePanel.add(jbPoly);
        shapePanel.add(new JLabel(""));
        shapePanel.add(new JLabel("FILL",JLabel.CENTER));
        shapePanel.add(jbFill);
        shapePanel.add(new JLabel(""));
        shapePanel.add(jbHelp);
        add(shapePanel,BorderLayout.WEST);

        jbS.addActionListener(this);
        jbL.addActionListener(this);
        jbC.addActionListener(this);
        jbD.addActionListener(this);
        jbE.addActionListener(this);
        jbR.addActionListener(this);
        jbB.addActionListener(this);

        jbLine.addActionListener(this);
        jbRect.addActionListener(this);
        jbOval.addActionListener(this);
        jbPoly.addActionListener(this);
        jbFill.addActionListener(this);
        jbHelp.addActionListener(this);
    }
    //***************************actionPerformed()****************
    public void actionPerformed(ActionEvent ae)
    {
        switch(ae.getActionCommand())
        {
        case "SAVE": saveDrawing(); break;
        case "LOAD": loadDrawing(); break;
        case "CLEAR": dBoard.cls(); break;
        case "DRAW": draw(); break;
        case "ERASE": erase(); break;
        case "COLOR": chooseColor(); break;
        case "BRUSH": getBrush(); break;
        case "line": drawLine(); break;
        case "rectangle": drawRect(); break;
        case "oval": drawOval(); break;
        case "polygon": drawPoly(); break;
        case "fill": fill(); break;
        case "help": help(); break;
        }
    }
    //*******************************drawLine()*******************
    public void drawLine()
    {
        eraseMode = false;
        drawStatus();
        jbLine.setIcon(line_on);
        jbRect.setIcon(rect_off);
        jbOval.setIcon(oval_off);
        jbPoly.setIcon(poly_off);
        dBoard.drawLine();
    }
    //*******************************drawRect()*******************
    public void drawRect()
    {
        eraseMode = false;
        drawStatus();
        jbLine.setIcon(line_off);
        jbRect.setIcon(rect_on);
        jbOval.setIcon(oval_off);
        jbPoly.setIcon(poly_off);
        dBoard.drawRect();
    }
    //*******************************drawOval()*******************
    public void drawOval()
    {
        eraseMode = false;
        jbD.setIcon(on);
        jbE.setIcon(off);
        drawStatus();
        jbLine.setIcon(line_off);
        jbRect.setIcon(rect_off);
        jbOval.setIcon(oval_on);
        jbPoly.setIcon(poly_off);
        dBoard.drawOval();
    }
    //*******************************drawPoly()*******************
    public void drawPoly()
    {
        eraseMode = false;
        drawStatus();
        jbLine.setIcon(line_off);
        jbRect.setIcon(rect_off);
        jbOval.setIcon(oval_off);
        jbPoly.setIcon(poly_on);
        dBoard.drawPoly();
    }
    //*********************************fill()*********************
    public void fill()
    {
        fillState = "" + jbFill.getIcon();
        if (fillState.equals("on.gif"))
        {
            jbFill.setIcon(off);
            dBoard.fill(false);
        }
        else
        {
            jbFill.setIcon(on);
            dBoard.fill(true);
        }
    }
    //*********************************help()*********************
    public void help()
    {
        String helpString = "&lt;html&gt;&lt;body width='350'&gt;&lt;h1&gt;" +
            "&lt;center&gt;Drawing Shapes&lt;/h1&gt;" +
            "To draw a line, click the line " +
            "button, then click where you would" +
            " like the start and end points to " +
            "be.&lt;br&gt;&lt;br&gt; To draw a rectangle, " +
            "click the rectangle button, then " +
            "click where you would like the " +
            "upper left and lower right corners" +
            " to be.&lt;br&gt;&lt;br&gt; To draw an oval, " +
            "click the oval button.  Imagine a" +
            " box around the oval, and click " +
            "where you would like the upper " +
            "left and lower right corners of " +
            "the box to be.&lt;br&gt;&lt;br&gt; To draw a " +
            "polygon, click the polygon button," +
            " then click where you would like " +
            "the corners to be.  When you are " +
            "ready to draw the shape, click " +
            "the right mouse button.";
        JOptionPane.showMessageDialog(this,helpString,"",
                                 JOptionPane.INFORMATION_MESSAGE);
    }
    //******************************drawStatus()******************
    public void drawStatus()
    {
        // update status icons on buttons
        jbD.setIcon(on);
        jbE.setIcon(off);

        // update status labels when drawing with brush or shapes
        currentColorLabel.setForeground(Color.black);
        labelColorPanel.setBackground(chosenColor);
        currentBrush.setForeground(Color.black);
        currentBrushLabel.setForeground(Color.black);
    }
    //*********************************draw()*********************
    public void draw()
    {
        eraseMode = false;

        // update status labels and icons
        drawStatus();

        // prepare Canvas for drawing
        dBoard.setDrawMode();
    }
    //********************************erase()*********************
    public void erase()
    {
        eraseMode = true;

        // update status icons on buttons
        jbE.setIcon(on);
        jbD.setIcon(off);
        jbLine.setIcon(line_off);
        jbRect.setIcon(rect_off);
        jbOval.setIcon(oval_off);
        jbPoly.setIcon(poly_off);

        // gray out the status labels while erasing
        currentColorLabel.setForeground(Color.gray);
        labelColorPanel.setBackground(Color.gray);
        currentBrush.setForeground(Color.gray);
        currentBrushLabel.setForeground(Color.gray);

        // set erase mode
        dBoard.setEraseMode();
    }
    //*******************************getBrush()*******************
    public void getBrush()
    {
        if (eraseMode)
        {
            JOptionPane.showMessageDialog(null,
                           "cannot change brush in erase mode","",
                           JOptionPane.ERROR_MESSAGE);
        }
        else
        {
            String s = (String) JOptionPane.showInputDialog(null,
                "enter one or more characters to make your brush",
                "",JOptionPane.PLAIN_MESSAGE);
            if ((s != null) && (s.length() &gt; 0))
            {
                brush = s;
                dBoard.setBrush(brush);
                currentBrush.setText(brush);
            }
        }
    }
    //*****************************chooseColor()******************
    public void chooseColor()
    {
        if (eraseMode)
        {
            JOptionPane.showMessageDialog(null,
                           "cannot change color in erase mode","",
                                       JOptionPane.ERROR_MESSAGE);
        }
        else
        {
	    Color previousColor = chosenColor;
            chosenColor = JColorChooser.showDialog(null,
                                    "Color Chooser",Color.yellow);
            if (chosenColor == null) chosenColor = previousColor;
            labelColorPanel.setBackground(chosenColor);
            dBoard.setBrushColor(chosenColor);
            dBoard.setFillColor(chosenColor);
        }
    }
    //*****************************saveDrawing()******************
    public void saveDrawing()
    {
        dBoard.savePic();
    }
    //*****************************loadDrawing()******************
    public void loadDrawing()
    {
        dBoard.loadPic();
    }
    //*********************************main()*********************
    public static void main(String args[])
    {
        SwingUtilities.invokeLater(new Runnable()
        {
            public void run()
            {
                new DrawingBoard();
            }
        });
    }
}</code></pre>

	<p/><p>Here's a screenshot:</p>

	<img src="images/DrawingBoard.png" width="650px" alt="Drawing Board
						screenshot">
	<hr>
	<p/><p>This next program was an extra credit assignment to
	sort a list of IPv4 addresses.  It implements Comparator&lt;T&gt; to
	accomplish this.</p>

	<pre><code class="prettyprint linenums"
		   style="height:700px;overflow:scroll;overflow-y:scroll;
			  overflow-x:hidden;">/*
Author: Michael Inman
Date  : 05/06/13
Program Name: IPSort.java
Objective: This program sorts IPv4 addresses by implementing
           Comparator&lt;T&gt;.
*/

import java.util.*;

class SortIPAddr implements Comparator&lt;String&gt;
{
    private String s1Octet[];
    private String s2Octet[];
    private int s1int;
    private int s2int;
    //*******************************compare()********************
    public int compare(String s1, String s2)
    {
        s1Octet = s1.split("\\.");
        s2Octet = s2.split("\\.");
        for (int i=0; i<4; i++)
        {
            s1int = Integer.parseInt(s1Octet[i]);
            s2int = Integer.parseInt(s2Octet[i]);
            if (s1int < s2int) return(-1);
            if (s1int > s2int) return(1);
        }
        return(0);
    }
}

public class IPSort
{
    static final int MAX=10000;
    //********************************IPSort()********************
    public IPSort()
    {
        TreeSet&lt;String&gt; ts = new TreeSet<>(new SortIPAddr());
        while (ts.size() != MAX) ts.add(genIP());
        int i = 0;
        for (String s : ts)
        {
            if ((i < 10) || (i > MAX-11))
            {
                System.out.println(s);
            }
            if (i == 10) System.out.println("....");
            i++;
        }
    }
    //*********************************rand()*********************
    public int rand(int a, int b)
    {
        return((int)((b-a+1)*Math.random()+a));
    }
    //********************************genIP()*********************
    public String genIP() // generate IP addresses
    {
        String ipaddr = "";
        ipaddr = rand(0,255) + "." + rand(0,255) + "." +
            rand(0,255) + "." + rand(0,255);
        return(ipaddr);
    }
    //*********************************main()*********************
    public static void main(String args[])
    {
        new IPSort();
    }
}</code></pre>

	<p/><p>Here's a sample of the output:</p>

	<img src="images/IPSort.output.png" alt="IP Sort screenshot">

	<h3>Perl</h3>

	<p>I like to use Perl for small projects.  It allows me to
	develop quickly without having to worry about features typical
	of lower-level compiled languages.</p>

	<p>Here is a script I wrote to produce Excel reports and data
	plots from immunological assays.  It parses data from an ASCII
	text file to create one or more files.  If a data plot is
	requested, a file containing gnuplot commands is written,
	then gnuplot is called on the resulting file.</p>

	<pre><code class="prettyprint linenums"
		   style="height:700px;overflow:scroll;overflow-y:scroll;
			  overflow-x:hidden;">#!/usr/bin/perl

# This script calculates the means, standard deviations, and %CVs
# given a file containing concentration values from a Luminex run.
# The input file must be in the cross-tab custom format.

# A previous version required that replicates be in consecutive wells,
# but that requirement was dropped in this verion.

# The script optionally produces tab-delimited output on stdout and
# a plot file (.plt) with a filename based on the name of the input
# file.

# There are some optional command line switches:

# -p: plot the data by calling gnuplot on the plot file.  Produces a
#     PostScript (.ps) file with a name based on the name of the input
#     file.

# -t: send the output to a tab-delimited text file instead of stdout.
#     Produces a .txt file with a name based on the name of the input
#     file.

# -x: send the output to an Excel file instead of stdout.  Produces a
#     .xls file with a name based on the name of the input file.

# -l: send the output to a tab-delimited text file instead of stdout.
#     Produces a text file with a name based on the name of the input
#     file having the extension .xls

# Command line options FOLLOW the name of the input file.  Switches
# can be in any order.  Dashes are optional.  Space between switches
# is optional.

# author: Michael Inman

use Net::Domain qw(hostname hostfqdn hostdomain);
use Spreadsheet::ParseExcel::Simple;
use Spreadsheet::WriteExcel;
use Statistics::Descriptive;
use PerlIO::eol;
use File::Copy;

my $host = hostname();
my $os = $^O;

$thisscript=$0;
$thisscript=~s/.*[\/\\]//; # remove path, if any

$file=shift @ARGV || die "The command line must include the name of a
                          file to process\n";
@switches=@ARGV;
$switches="@switches";
$switches=~s/[- ]//g;
if ($switches=~/t/) { $maketxt=1; } else { $maketxt=0; }
if ($switches=~/x/) { $makexls=1; } else { $makexls=0; }
if ($switches=~/p/) { $makeps=1; } else { $makeps=0; }
if ($switches=~/l/) { $maketxtxls=1; } else { $maketxtxls=0; }
$basename=$file;
$basename=~s/.xtab.csv//;
$xlsfile=$basename . " data.xls";
$assaydate=$basename;
$assaydate=~/[0-9\.]+/;
$assaydate=$&;
$plotfile=$basename . ".plt";
$psfile=$basename . ".plot.ps";
$txtfile=$basename . ".txt";
$txtxlsfile=$basename . ".xls";

if ($maketxt) {
  open (OUT,">$txtfile");
  select OUT;
} elsif ($maketxtxls) {
  open (OUT,">$txtxlsfile");
  select OUT;
} else {
  select (undef); # suppress output to terminal by default
}


################################################
# SET OPTIONS FOR DATA DISPLAY (script internal)
#
# INDICATE WELLS WITH BEAD COUNTS < 100
$showcountplot=1; # wells with low bead counts will be displayed in a
		  # lighter hue; this requires adding an extra column
		  # to the txt file; to add an extra column to the
		  # Excel file, set the variable "$showcountxl" to 1.

$showcountlbl=1; # include actual numbers of beads collected

$showcountxl=1; # add extra column to Excel file for bead counts

# SET THE DILUTION FACTOR
$dilfactor=1; # undiluted samples have a dilution factor of 1
$dilcol = $dilfactor > 1; # add an extra column if the dilution factor
			  # is > 1

# ADD BLANK COLUMN BETWEEN ANALYTES
$blankcol=1;

# NUMBER OF COLUMNS THE DATA FOR A GIVEN ANALYTE WILL OCCUPY
$numcols=4 + $showcountxl + $dilcol + $blankcol;
##############################################################

###############################
# GET THE CONTROL VALUES
#
$controlfile="control ranges.txt";
open CF, "<:raw:eol(LF)", $controlfile;
@controls=<CF>;
foreach $line (@controls) {
    chomp $line;
    @fields=split /\t/,$line;
    $ctlist{$fields[0]}=$fields[1];
}
##############################################################

##############################################################
# GET THE FILE CONTAINING THE BEAD COUNTS AND MFIs
$detfile=$basename;
$detfile=$detfile . ".det.csv";
open DF, "<:raw:eol(LF)", $detfile;
while (<DF>) {
  s/\+/\\+/;
  push @detfile,$_;
}
##############################################################

##########################################
# SET UP NEW EXCEL WORKBOOK (if selected)
if ($makexls) {
  # Create a new Excel workbook
    $wkbk = Spreadsheet::WriteExcel->new("$xlsfile");
    $wksht = $wkbk->add_worksheet("test");
  # define some formats
    $oneplace = $wkbk->add_format();
    $oneplace->set_num_format('0.0');
    $header_format = $wkbk->add_format(bold => 1,align => center);
    $literal_format = $wkbk->add_format(num_format => '@');
}
##############################################################

###############################
# READ THE INPUT XTAB FILE
open IN, "<:raw:eol(LF)", $file;
@file = <IN>;
##############################################################

###############################
# PREPARE THE HEADER ( = FIRST ROW OF FILE)
$header = shift @file;
chomp $header;
@header = split /,/,$header;
@analytes=@header[5..$#header];
print "\"PID\"\t";
@analytes_quoted = map { "\"$_" } @analytes; # put quotation marks
				# around the analytes

# EXPAND THE HEADER WITH ADDITIONAL COLUMNS AS REQUIRED
if ($dilcol) { $dilcolheader = "\t\"corrected mean\""; }
if ($showcountxl) { $countheader = "\t\"bead counts\""; }
if ($blankcol) { $blankheader = "\t\"\""; }
$extracols = " mean (pg/mL)\"\t\"sd\"\t\"cv\"\t\"\"" . $dilcolheader
    . $countheader . $blankheader . "\t";
$expanded_header = join $extracols, @analytes_quoted;
$expanded_header = $expanded_header . " mean (pg/mL)\"\t\"sd\"\t\"cv\""
                   . "\t" . $dilcolheader . $countheader . $blankheader
                   . "\t";
$expanded_header =~ s/TNF-RI(I*) mean \(pg\/mL\)/TNF-RI\1 mean
                     (ng\/mL)/g; # TNF-RI and TNF-RII use ng/mL
print $expanded_header,"\n";
# for Excel:
$expanded_header =~ s/\"//g; # remove quotes
$expanded_header = "PID\t" . $expanded_header;
@expanded_header = split /\t/,$expanded_header; # turn it into an array
if ($makexls) { $wksht->write($row++,0,\@expanded_header,$header_format) };

# GET THE PIDs
@ids = map {@tmp=split /,/,$_; $tmp[4]} @file;
undef @pids;
foreach $id (@ids) {		# process the IDs
  $id=~s/^ //;		# remove initial space char
  push @pids,$id unless $seen{$id}++; # remove duplicates
}

# PROCESS EACH PID
foreach $id (@pids) {
  $j=0;
  foreach $analyte (@analytes_quoted) { # initialize stats
    $stat{$analytes[$j++]} = Statistics::Descriptive::Full->new();
  }
  print "\"$id\"\t";
  if ($makexls) { $wksht->write($row,$col++,$id) };
  $id=~s/\(/\\(/; # escape parentheses
  $id=~s/\)/\\)/; # escape parentheses
  $id=~s/\+/\\+/g; # escape plus sign
  $id=~s/\*/\\*/g; # escape plus sign
  @repgroup = grep /,$id,/, @file; # get all the replicates
  foreach $rep (@repgroup) {
    chomp $rep;
    @rep = split /,/,$rep;
    for ($i=5; $i<=$#rep; $i++) {
      $stat{$analytes[$i-5]}->add_data($rep[$i]);
      $wellid=$rep[2];
      $analyte=$analytes[$i-5];
      $analyte=~s/([()])/\\$1/g;
      @detline = grep /$wellid,$analyte/,@detfile;
      $detline = $detline[0];
      chomp $detline;
      @detline = split /,/,$detline;
      push @{$beadcount{$analytes[$i-5]}},$detline[10];
    }
  }
  foreach $analyte (@analytes) { # CALCULATE THE STATS
      @values = $stat{$analyte}->get_data();
      @oor = grep /OOR/,@values;
      if ($#oor == $#values) { # if all values are "OOR"
	  $mean = $values[0];
	  $sd = "\"\"";
      } else {
	  @values = grep !/OOR/,@values; # grab only the numerical
                                         # values (not OORs)
          # re-initialize the data
	  $stat{$analyte} = Statistics::Descriptive::Full->new();
	  $stat{$analyte}->add_data(@values);
	  $mean = $stat{$analyte}->mean();
	  $correctedmean = sprintf "%02.1f",$mean*$dilfactor;
	  if ($#values == 0) { # if you have only 1 value, do not
			       # calculate the SD or the CV
	      $sd = "\"\"";
	  }
	  else {
	    $sd = $stat{$analyte}->standard_deviation();
	  }
      }
    if ($id=~/QC/) { # CHECK THE QC RANGES
      @ranges=split / /, $ctlist{$analyte};
      $lowrange=$ranges[0];
      $highrange=$ranges[1];
      @lowrange=split /-/,$lowrange;
      @highrange=split /-/,$highrange;
      if ($id=~/low/) {
	if ($mean >= ($lowrange[0]/4) && $mean <= ($lowrange[1]/4)) {
	  $qc="\"QC low OK\"";
	} elsif ($mean < ($lowrange[0]/4)) {
	  $qc="\"QC low <OOR\"";
	} else {
	  $qc="\"QC low >OOR\"";
	}
      } elsif ($id=~/-1/) {
	if ($mean >= $lowrange[0] && $mean <= $lowrange[1]) {
	  $qc="\"QC-1 OK\"";
	} elsif ($mean < $lowrange[0]) {
	  $qc="\"QC-1 <OOR\"";
	} else {
	  $qc="\"QC-1 >OOR\"";
	}
      } elsif ($id=~/-2/) {
	if ($mean >= $highrange[0] && $mean <= $highrange[1]) {
	  $qc="\"QC-2 OK\"";
	} elsif ($mean < $lowrange[0]) {
	  $qc="\"QC-2 <OOR\"";
	} else {
	  $qc="\"QC-2 >OOR\"";
	}
      }
    } else {
      $qc="\"\"";
    }
# START WRITING TO THE FILE
      if ($mean=~/OOR/ || $sd eq "\"\"") {
      print "$mean\t\"\"\t";
      if ($makexls) {
	  $wksht->write($row,$col++,$mean,$wksht->set_column($col-1,0,15));
	  $wksht->write($row,$col++,"");
      }
    } else {
      printf "%02.1f\t%02.1f\t",$mean,$sd;
      if ($makexls) {
	  $wksht->write($row,$col++,$mean,$wksht->set_column($col-1,0,15));
      }
      if ($makexls) { $wksht->write($row,$col++,$sd,$oneplace) };
    }
    if ($mean == 0 && $mean!~/OOR/) {
      printf "0\t";
      if ($makexls) { $wksht->write($row,$col++,"0") };
    } elsif ($sd eq "\"\"") {
      print "\"\"\t";
      if ($makexls) { $wksht->write($row,$col++,"") };
    } else {
      $cv = ($sd/$mean)*100;
      printf "%02.1f\t",$cv;
      if ($makexls) { $wksht->write($row,$col++,$cv,$oneplace) };
    }
    foreach $count (@{$beadcount{$analyte}}) {
      if ($count < 100) {
	$below100++;
      }
    }
      print "$qc\t";
      if ($makexls) { $qc=~s/\"//g; $wksht->write($row,$col++,$qc) };
      if ($dilfactor > 1) {
	if ($row >= 10) { # correct for sample dilution (if any)
	  print $correctedmean;
	}
	print "\t";
      }
      if ($showcountxl) {
	  if ($showcountlbl) {
	      $countlbl = join "/",@{$beadcount{$analyte}};
	      print "$countlbl\t";
	      if ($makexls) {
		  $wksht->write($row,$col++,$countlbl,$literal_format);
	      }  # use literal format so that "x/y" isn't interpreted
		 # by Excel as "x-month/y-year" 
	  } else {
	      print "$below100\t";
	      if ($makexls) { $wksht->write($row,$col++,$below100) };
	  }
      }
     if ($blankcol) {
       print "\"\"\t";
       if ($makexls) { $wksht->write($row,$col++,"") };
     }
    $below100=0;
    undef @{$beadcount{$analyte}};
  }
  print "\n";
  $col=0;
  $row++;
}

close OUT; # close the output file, otherwise the .xls file will be
	   # incomplete (closing flushes the buffer to disk)

if ($makexls) { $wkbk->close(); } # needed because "my() was not used
				# to declare the scope of a workbook
				# variable created using new()."

if ($maketxtxls) { # copy the text file with a .xls extension
    copy ($txtfile,$txtxlsfile);
} 
##############################################################

##############################################################
#          CREATE THE PLOT (.plt) FILE
#
# SET GLOBAL PARAMETERS IN THE HEADER
open(PLOT,">$plotfile");
select PLOT;
print "# this file generated automagically by $thisscript\n";
print <<ENDOFTEXT;
unset multiplot
reset
set terminal postscript landscape enhanced color font "ArialMT,16"
set bmargin 8 # the default margin is too wide (at the expense of the graph)
set style rect fc lt -1 fs solid 0.15 noborder
set obj 1 rect behind from graph 0, graph 0 to 8.5, graph 1 fc rgb
    "gray" fillstyle solid 1.0
set obj 2 rect behind from 8.5, graph 0 to 11.5, graph 1
set obj 3 rect behind from graph 0, graph 0 to 8.5, graph -.3 fc rgb
    "gray" fillstyle solid 1.0
set obj 4 rect behind from 8.5, graph 0 to 11.5, graph -.3
set label "STANDARDS" at 4, graph -.27 center font "ArialMT,8"
set label "CONTROLS" at 10, graph -.27 center font "ArialMT,6.5"
set style fill solid border -1
set boxwidth 2 absolute
set xtics border in scale 1,0.5 mirror rotate by 90 font "ArialMT,9"
set ytics  font "ArialMT,16"
set nokey
set logscale y
set grid xtics
set grid ytics
set format y "10^{%L}"
set offsets 1,1
ENDOFTEXT

@color = qw /
    'gray'
    'forest-green'
    'orange'
    'dark-turquoise'
    'blue'
    'violet'
    'red'
    'light-pink'
    'salmon'
    '#ff4500'
    '#6a5acd'
    /;

print "set output \"",$psfile,"\"\n";

# PROCESS THE DATA IN A LOOP; EACH PASS GENERATES THE GRAPH FOR A
# SINGLE ANALYTE
$i=2;
for ($i=2; $i<=($#analytes*$numcols)+2; $i+=$numcols) {

    if ($analytes[$count]=~/TNF-R/) {
	print "set nolabel 3\n";
	print "set label 3 \"ng/mL\" at graph -0.09, graph 0.5 center
	font \"ArialMT,12\" rotate\n";
    } else {
	print "set label 3 \"pg/mL\" at graph -0.09, graph 0.5 center
	font \"ArialMT,12\" rotate\n";
    }

# PLOT CONTROL RANGES (dark blocks)

    @ranges=split / /, $ctlist{$analytes[$count]};
    $lowrange=$ranges[0];
    $highrange=$ranges[1];
    @lowrange=split /-/,$lowrange;
    @highrange=split /-/,$highrange;
    
# clean up the analyte names (use Greek letters, etc.)

    if ($analytes[$count]=~/[A-Z][A-Z]+/ && $analytes[$count]=~/[abg]/) {
	$analytes[$count]=~s/$&/{\/Symbol $&}/; # use Greek alphabet
    }

    $icount = ($string =~ tr/X//); # count the number of "I"s
    my $icount = ($analytes[$count] =~ tr/I//);

# substitute appropriate number
    $analytes[$count]=~s/sTNFR(I+)/sTNF-R$icount/;

    print "set title \"{/ArialMT=24
    ",$basename,"}\\n\\n$analytes[$count]\"\n";

# PLOT ERRORBARS: red if CV > 20, black otherwise
    print "plot '",$txtfile,"' u :$i:(\$",$i+2,">20 ? 1/0 :
    \$",$i+1,") w errorbars notitle lt 1 ps 0 lw 2 lc rgb
    'black',\\\n";
    print "'' u :$i:(\$",$i+2,">20 ? \$",$i+1," : 1/0) w errorbars
    notitle lt 1 ps 0 lw 2 lc rgb 'red',\\\n";

# PLOT VALUES: full color if there were no wells with low bead counts,
# lighter color if 1 or more wells had low bead counts
    print "'' u :$i:(.8):xticlabels(1) w boxes t
\"",$analytes[$count++],"\" lt 1 lw 1 lc rgb $color[$count],\\\n";
    if ($showcountplot && !$showcountlbl) { # mark samples with one or
				# more wells with less than 100 events
      print "'' u :(\$",$i+4,">0 ? \$",$i," : 1/0):(.8):xticlabels(1)
            w boxes notitle fs solid .2 lt 1 lw 1 lc rgb
            $color[$count],\\\n";
    } elsif ($showcountplot && $showcountlbl) { # overlay raw event
				# count on samples with bead counts
				# less than 100 in one or more wells
      print "'' u :(substr(stringcolumn(",$i+4,"),1,
            (strstrt(stringcolumn(",$i+4,"),\"/\")))<100 ? \$",$i," : 1/0)
            :(.8):xticlabels(1) w boxes notitle fs solid .2 lt 1 lw 1
            lc rgb $color[$count],\\\n";
      print "'' u :(substr(stringcolumn(",$i+4,"),(strstrt(
            stringcolumn(",$i+4,"),\"/\"))+1,strlen(stringcolumn(",$i+4,")))<100
            ? \$",$i," : 1/0):(.8):xticlabels(1) w boxes notitle fs
            solid .2 lt 1 lw 1 lc rgb $color[$count],\\\n";
      print "'' u :$i:(substr(stringcolumn(",$i+4,"),1,(strstrt(
            stringcolumn(",$i+4,"),\"/\")))<100 ? \$",$i+4," : 1/0) w
            labels font \"Arial,7\" center offset 0,-1 rot by 90
            notitle,\\\n";
      print "'' u :$i:(substr(stringcolumn(",$i+4,"),(strstrt(
            stringcolumn(",$i+4,"),\"/\"))+1,strlen(stringcolumn(",$i+4,")))<100
            ? \$",$i+4," : 1/0) w labels font \"Arial,7\" center
            offset 0,-1 rot by 90 notitle,\\\n";
    }
    print "'' u :(stringcolumn(",$i,") eq '<OOR' ? 0 : 1/0):(.8):
          xticlabels(1) w boxes notitle fs pattern 5 lt 1 lw 1 lc
          'black',\\\n";
    print "'' u :(stringcolumn(",$i,") eq '>OOR' ? .4 : 1/0):(.8):
          xticlabels(1) w boxes notitle fs pattern 5 lt 1 lw 1 lc rgb 
          $color[$count],\\\n";
    print "'' u :(stringcolumn(",$i,") eq '>OOR' ? 15 : 1/0):
          (\"EXCEEDED DETECTION THRESHOLD\") w labels font \"Arial,9\"
          center offset 0,1 rot by 90 notitle\n"; # the number after the
				                  # question mark
						  # controls the
						  # placement of the
						  # label

    print "#---------------------\n"; # print a separator between
				      # pages (plots) to make debugging
				      # easier
}
print "set output\n";
close(PLOT);

# RUN THE .plt FILE THROUGH GNUPLOT AND DISPLAY THE POSTSCRIPT FILE
if ($makeps) {
  print "makeps\n";
    if ($os=~/MSWin32/) { # Win32
	system ("\"C:\\Documents and Settings\\minman\\My Documents\\
        Downloads\\gp425win32\\gnuplot\\bin\\pgnuplot.exe\" \"$plotfile\"");
	system("\"$psfile\"");
    } elsif ($os=~/darwin/) { # MacOSX
	system ("/opt/local/bin/gnuplot \"$plotfile\"");
	system("open \"$psfile\"");
    }
}</code></pre>

	<p/>
	<p>Here's a sample plot produced by this script.  Note in
	particular the use of red error bars for CVs > 20%.  Also note
	that if one of the two wells collected had fewer than 100
	events, this is indicated by plotting the value using a bar of
	a lighter color along with the actual event counts overlaid at
	the top of the bar (see samples 1013 and 201).</p>

	 <img src="images/plot.png" alt="plot"> 

	<hr>

	<p>Stay tuned -- more code coming soon!</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="http://pages.github.com">GitHub
        Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
